# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## v1.0.0

* As a last resort use a random string to shorten the alias if the other methods were unable to shorten it enough
* Add more levels of alias shortening in order to be able to more aggressively shortern aliases whilst still maintaining some readability (as aliases quickly get a lot longer now the verb is included)
* Added `sqlNameToODataName` and `odataNameToSqlName` for converting between odata and abstract sql resource names.
* Switched to using the abstract sql model directly as the client model, this adds support for
	* Synonymous form navigation, meaning we can navigate both `pilot trained pilot` and `pilot was trained by pilot` to specify a direction.
	* Synonyms, meaning we can use both aircraft and plane interchangeably, eg `aircraft` instead of `plane`, `pilot__can_fly__aircraft` instead of `pilot__can_fly__plane`, etc
* Switched to generating the client model in the tests, rather than committing it.

## v0.4.1

* Fixed the `all` lambda for cases where there are more than one of the parent resource

## v0.4.0

* Changed to requiring an array of body keys rather than an object of key/value pairs. This makes the cache hit rate on memoisation reasonable.
* Changed to return an object containing the tree and an object of key/value pairs that should be added to the body.

## v0.3.7

* Added support for parsing binds in the odata tree.
* Made sure parsing fails if the path.key is invalid.

## v0.3.6

* Added functionality to sensibly shorten table aliases (requires using the new `setClientModel` function), to handle cases where aliases can grow too large for the database.

## v0.3.5

* Fixed an undefined variable issue on an unknown mapping.
* Added support for /$count
* Added tests for count

## v0.3.4

* Switched to using sensible aliases for tables so that self-references can be handled.
* Fixed cases where prop.property or prop.lambda could be ignored.
* Switched to throwing errors rather than strings so that we get stack traces

## v0.3.3

* Added support for duration literals.
* Added support for the majority of OData 4 functions.

## v0.3.2

* Updated to lodash v4

## v0.3.1

* Updated ometa-js

## v0.3.0

* Added support for lambda operations on nested properties.
* Fixed issues with field scoping of foreign keys with `$expand($select)` queries that do not include the foreign key in the select.
* Fixed database error on insert filter with navigation property.

## v0.2.6

* Added support for nested expands like `$expand=resource($expand=subresource)`

## v0.2.5

* Switched to a scoped package.

## v0.2.4

* Fixed an issue when an expand references its parent in an option (eg. `/pilot?$expand=licence($filter=pilot/id eq 1)`)

## v0.2.3

* Fixed some cases where failing to parse was silently ignored.

## v0.2.2

* Added support for $filter, $orderby, $top, $skip, and $select as expand options.
* Updated lodash to ^3.0.0

## v0.2.1

* Added support for true/false/null

## v0.2.0

* Implemented support for PUT filters.
* Added support for resource names with underscores.

## v0.1.1

* Cast bind vars in inserts in order to guarantee the database knows the correct type in cases where it could be ambiguous.

## v0.1.0

* Fixed id fields that had spaces.
* Implemented support for POST filters.
* Proper support for keys in $links
